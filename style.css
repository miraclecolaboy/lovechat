:root{
  --bg:#f5f7fb; --card:#fff; --accent:#2b9cff; --muted:#6b7280; --radius:12px;
}
*{box-sizing:border-box}
body{margin:0;font-family:Inter,Segoe UI,Arial,system-ui;background:var(--bg);color:#111}
.card{background:var(--card);border-radius:var(--radius);box-shadow:0 6px 18px rgba(15,23,42,0.06);padding:12px}
.login-card{max-width:420px;margin:48px auto;padding:18px}
.login-card input{width:100%;margin:8px 0;padding:10px;border-radius:8px;border:1px solid #e6eef8}
.row{display:flex;gap:8px}
.btn{background:var(--accent);color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer;transition:0.2s}
.btn:hover{opacity:0.85}
.btn.small{padding:6px 8px;font-size:13px}
.btn.outline{background:white;border:1px solid #e6eef8;color:var(--accent)}
.small{font-size:12px;color:var(--muted)}
.muted{color:var(--muted)}
.app{max-width:480px;margin:0 auto;background:transparent;min-height:100vh;padding-bottom:72px}
.topbar{display:flex;justify-content:space-between;align-items:center;padding:12px}
.me-name{font-weight:700}
.main{padding:8px;}
.view{display:none}
.view.active{display:block}
.chat-header{display:flex;justify-content:space-between;align-items:center;padding:8px 0}
.chat-window{height:45vh;overflow:auto;padding:8px;display:flex;flex-direction:column;gap:8px}
.composer{display:flex; flex-direction: column;gap:8px;padding:8px 0}
.composer input{flex:1;padding:10px;border-radius:10px;border:1px solid #e6eef8}
.list{max-height:36vh;overflow:auto}
.panel{background:var(--card);border-radius:12px;padding:10px;margin-bottom:10px;}
.pad{padding:12px}
.profile-row{display:flex;gap:8px;align-items:center}
.avatar-wrap{width:52px;height:52px;border-radius:50%;overflow:hidden;background:#e2e8f0;display:flex;align-items:center;justify-content:center}
.avatar-wrap img{width:100%;height:100%;object-fit:cover}
.avatar-initial{font-weight:600;color:#334155;text-align:center;line-height:52px;font-size:18px}
.friend{display:flex;align-items:center;justify-content:space-between;padding:10px;border-radius:10px;cursor:pointer}
.friend:hover{background:#f2f6fb}
.unread{background:#ff4d6d;color:white;border-radius:12px;padding:2px 8px;font-size:12px}
.bubble{display:inline-block;padding:10px 14px;border-radius:16px;max-width:78%;line-height:1.2; white-space: pre-wrap;  word-break: break-word;}
.bubble.me{background:#d2f0ff;margin-left:auto;border-bottom-right-radius:4px}
.bubble.you{background:#f1f3f5;margin-right:auto;border-bottom-left-radius:4px}
.msg-row{display:flex;align-items:flex-end;gap:8px}
.msg-right{justify-content:flex-end}
.msg-left{justify-content:flex-start}
.bottom-nav{position:fixed;left:0;right:0;bottom:0;display:flex;justify-content:space-around;padding:8px;background:#fff;border-top:1px solid #eee}
.nav-btn{background:none;border:none;padding:8px;color:var(--muted);font-weight:600}
.nav-btn.active{color:var(--accent)}
textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #e6eef8;resize:vertical}
.title{font-weight:700;margin-bottom:6px}
.small-muted{font-size:12px;color:var(--muted)}

/* 当会话展开时，让聊天面板占据更大高度 */
.chat-panel-full {
  display: block !important;
  height: 85vh; /* 调整为 70% 的可视高度，可以根据需要微调 */
}

.chat-window {
  height: calc(70vh - 80px); /* 留出输入框和头部高度 */
  overflow-y: auto;
}

.edit-remark-btn {
  background: #eee;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}
.edit-remark-btn:hover {
  background: #ddd;
}

.composer .image-send input,
.composer .image-send button {
  padding: 4px 6px;  
  font-size: 12px;
  margin-top: 20px;   
}

/* 红点，只在消息列表里显示 */
#conversationsList .friend {
  position: relative; /* 给红点提供定位容器 */
}

#conversationsList .friend .red-dot {
  position: absolute;
  top: 12px;
  right: 12px;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background-color: red;
  visibility: hidden; /* 默认隐藏 */
}

#conversationsList {
  max-height: 90vh; 
  overflow-y: auto; 
}
#friendsList {
  max-height: 65vh; 
  overflow-y: auto; 
}
#meNote {
  height: 50vh; 
}

.inline-youtube-wrap {
  width: min(320px, 72vw);
  border-radius: 10px;
  overflow: hidden;
  background: #000;
}

.inline-msg-youtube {
  width: 100%;
  aspect-ratio: 16 / 9;
  border: 0;
  display: block;
}
